# =============================================================================
# ENVIRONMENT VARIABLES FOR DOCKER DEPLOYMENT
# =============================================================================
# DO NOT commit this file to git! Add to .gitignore
# Copy this to .env and fill in your actual values

# -----------------------------------------------------------------------------
# MongoDB Configuration
# -----------------------------------------------------------------------------
MONGODB_URI=mongodb+srv://vishwapranav2003whatsapp:OZVeL0I64xb1hyBs@yappify-cluster.rkxpfqa.mongodb.net/yappify?retryWrites=true&w=majority
SPRING_DATA_MONGODB_URI=mongodb+srv://vishwapranav2003whatsapp:OZVeL0I64xb1hyBs@yappify-cluster.rkxpfqa.mongodb.net/yappify?retryWrites=true&w=majority

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
JWT_SECRET=myVeryLongSecretKeyThatIsAtLeast32CharactersLongForHS256
JWT_EXPIRATION_MS=2592000000

# -----------------------------------------------------------------------------
# Kafka Configuration
# -----------------------------------------------------------------------------
# For Docker internal network
SPRING_KAFKA_BOOTSTRAP_SERVERS=yappify-kafka:9093

# Kafka Producer Settings
SPRING_KAFKA_PRODUCER_KEY_SERIALIZER=org.apache.kafka.common.serialization.StringSerializer
SPRING_KAFKA_PRODUCER_VALUE_SERIALIZER=org.springframework.kafka.support.serializer.JsonSerializer
SPRING_KAFKA_PRODUCER_ACKS=1
SPRING_KAFKA_PRODUCER_RETRIES=3

# Kafka Consumer Settings
SPRING_KAFKA_CONSUMER_GROUP_ID=chat-consumer-group
SPRING_KAFKA_CONSUMER_AUTO_OFFSET_RESET=latest
SPRING_KAFKA_CONSUMER_KEY_DESERIALIZER=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer
SPRING_KAFKA_CONSUMER_VALUE_DESERIALIZER=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer

# JsonDeserializer Configuration
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_DESERIALIZER_KEY_DELEGATE_CLASS=org.apache.kafka.common.serialization.StringDeserializer
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_DESERIALIZER_VALUE_DELEGATE_CLASS=org.springframework.kafka.support.serializer.JsonDeserializer
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_JSON_TRUSTED_PACKAGES=com.yappifychatapp.*
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_JSON_USE_TYPE_INFO_HEADERS=false
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_JSON_VALUE_DEFAULT_TYPE=com.yappifychatapp.dto.KafkaMessageDTO

# Kafka Topics
KAFKA_TOPIC_CHAT_MESSAGES=chat-messages-topic

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOGGING_LEVEL_COM_YAPPIFYCHATAPP=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_KAFKA=INFO